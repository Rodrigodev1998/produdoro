import{r as t,_ as d,s as p,a,c,u as g,b as A,d as b,T as N,K as v,e as L,f as O,g as X,h as w,j as e,L as K,i as u,H as z,k as H,M as r,S as l,P as M,l as j}from"./index-2a0d8eeb.js";const R=t.lazy(()=>d(()=>import("./index-2a0d8eeb.js").then(o=>o.x),["assets/index-2a0d8eeb.js","assets/index-4732b074.css"])),B=t.lazy(()=>d(()=>import("./index-2a0d8eeb.js").then(o=>o.C),["assets/index-2a0d8eeb.js","assets/index-4732b074.css"])),D=t.lazy(()=>d(()=>import("./index-2a0d8eeb.js").then(o=>o.y),["assets/index-2a0d8eeb.js","assets/index-4732b074.css"])),V=t.lazy(()=>d(()=>import("./index-2a0d8eeb.js").then(o=>o.z),["assets/index-2a0d8eeb.js","assets/index-4732b074.css"])),J=t.lazy(()=>d(()=>import("./index-2a0d8eeb.js").then(o=>o.A),["assets/index-2a0d8eeb.js","assets/index-4732b074.css"])),h={Background:p.div.withConfig({displayName:"App__Background",componentId:"sc-ju2pm9-0"})(["background-color:",";min-height:100%;padding-right:",";transition:background-color 0.5s;@media (prefers-reduced-motion){transition:none;}"],({theme:o})=>o.bg,({$shouldPad:o})=>o&&"17px"),Container:p.div.withConfig({displayName:"App__Container",componentId:"sc-ju2pm9-1"})(["margin:0 auto;max-width:640px;padding:14px ",";> main{padding-bottom:",";}"],a.XXXS,a.XL),PermissionContainer:p.div.withConfig({displayName:"App__PermissionContainer",componentId:"sc-ju2pm9-2"})(["background-color:",";border-radius:5px;bottom:20px;color:",";padding:",";position:fixed;right:20px;width:max-content;> h2{margin-bottom:",";}> button{all:unset;background-color:",";border-radius:3px;color:",";cursor:pointer;font-size:12px;padding:",";&:focus-visible{outline:auto;}}"],c.WHITE,c.BLACK,a.XS,a.XXXS,c.BLACK,c.WHITE,a.XXXXS)};function W(){const o=g(n=>n.currentTimerName),s=A(n=>n.openedModal),_=b(n=>n.config.theme),[f,S]=t.useState(!0),T=()=>{Notification.requestPermission(),S(!1)};t.useEffect(()=>{const n=g.subscribe(({seconds:i,currentTimerName:m,done:C,isPaused:I,isPlaying:P})=>{localStorage.setItem(N,JSON.stringify({seconds:i,currentTimerName:m,done:C,isPaused:I,isPlaying:P}))}),k=b.subscribe(({config:i})=>{localStorage.setItem(v,JSON.stringify(i))}),y=L.subscribe(({tasks:i,selectedTask:m})=>{localStorage.setItem(O,JSON.stringify({tasks:i,selectedTask:m}))}),x=X.subscribe(({templates:i})=>{localStorage.setItem(w,JSON.stringify({templates:i}))});return()=>{n(),k(),y(),x()}},[]);const E="document"in window&&document.body.scrollHeight>document.body.clientHeight;return e(K,{theme:{bg:_.colorThemes[o],text:c.WHITE},children:u(h.Background,{$shouldPad:s!=="closed"&&E,children:[u(h.Container,{children:[e(z,{}),u("main",{children:[e(H,{}),s==="settings"?e(r,{children:e(t.Suspense,{fallback:e(l,{}),children:e(R,{})})}):null,s==="colors"?e(r,{children:e(t.Suspense,{fallback:e(l,{}),children:e(B,{})})}):null,s==="template-save"&&e(r,{children:e(t.Suspense,{fallback:e(l,{}),children:e(D,{})})}),s==="template-save-to"&&e(r,{children:e(t.Suspense,{fallback:e(l,{}),children:e(V,{})})}),s==="template-list"&&e(r,{children:e(t.Suspense,{fallback:e(l,{}),children:e(J,{})})}),e(M,{}),e(j,{})]})]}),"Notification"in window&&Notification.permission==="default"&&f?u(h.PermissionContainer,{role:"dialog","aria-labelledby":"notification-dialog-label",children:[e("h2",{id:"notification-dialog-label",children:"Allow Notification?"}),e("button",{type:"button",onClick:T,children:"Open notification menu"})]}):null]})})}export{W as default};
